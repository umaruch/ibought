# 1. Цель проекта
Цель проекта - разработать  систему для отслеживания купленных товаров и гарантии на них(далее Система). Пользователь может создавать в Системе запись о товаре и пользовательские папки(категории). Помимо этого в Системе должны быть уведомления об истечении гарантии.

# 2. Описание системы
Система состоит из следующих основных функциональных блоков:
1. Регистрация, аутентификация и авторизация
2. Функционал просмотра и редактирования категорий
3. Функционал просмотра и редактирования купленных товаров
4. Редактивание пользователя
4. Уведомления по email
5. Страница с документацией

## 2.1. Регистрация
Процесс регистрации пользователя должен быть реализован в рамках Системы. При регистрации должны быть запрошены следующие поля:
- email
- password  

После регистрации профиль пользователя будет считаться невалидированным, это значит что ему недоступно редактирование категорий и товаров.

В ответе сервер пришлет токен доступа, токен обновления и время окончания действия в формате UNIX timestamp.  

## 2.2. Аутентификация 
При аутентификации должны быть запрошены следующие поля:
- email
- password

В ответе сервер пришлет токен доступа, токен обновления и время окончания действия в формате UNIX timestamp. 

## 2.3. Авторизация
Авторизированные запросы выполняются с access токеном в заголовках запроса.
Для обновления access токена при его истечении отправляется соответствующий запрос с refresh токеном в форме. 

## 2.4. Просмотр и редактирование категорий
В категориях можно выполнять поиск по названию. 

При добавлении или, впоследствии, редактирования категории пользователь вводит название категории.

## 2.5. Просмотр и редактирование купленных товаров
В товарах можно выполнять поиск по названию или ссылке, фильтровать по категориям и статусу гарантии.

При добавлении или, впоследствии, редактирования записи о товаре пользователь вводит название товара, ссылку на товар, дату покупки, срок гарантии в месяцах.       

## 2.6 Редактирование пользователей
Редактирование email или пароля будет осуществляться на отдельной странице, где будут отдельные формы под смену email или пароля. Также там будет указываться прошел или email верификацию. 

### 2.6.1. Смена email
Для смены email необходимо отправить форму со следующими полями:
- email - новая почта
- password - текущий пароль, для подтверждения того что тот кто отправляет запрос является хозяином аккаунта.

После смена email необходимо снова пройти проверку. 

### 2.6.2. Сброс пароля
Для сброса пароля необходимо в форме указать email, для того чтобы сгенерированный код отправить в письме.
Затем отправляется форма со следующими данными:
- password - новый пароль
- code - код, отправленный в email

### 2.6.3. Смена пароля
Для смены пароля отправляется форма со следующими полями:
- current_password - текущий пароль
- new_password - пароль на который производится замена

### 2.6.4. Валидация профиля по email
Для валидации email необходимо отправить запрос, сгенерируется код и отправится по почте, указанной в профиле. Затем отправляется форма с следующими полями:
- code - код, отправленный по email

Затем пользователю высылаются новые токены, в которых хранится информация о том что профиль активен.

## 2.7 Уведомления по email
Система должна раз в сутки проверять наличие товаров с истекающей(за неделю) или истекшей гарантией и отправлять сообщение на email пользователя  

# 3. Предполагаемый стек технологий
- Бэкенд:
    - Язык Python
    - Фреймворк FastAPI
    - БД PostgreSQL
    - Redis для кэширования кодов, отправляемых по email
    - SQLAlchemy ORM
    - Alembic для миграции
    - Python emails для отправки email
- Фронтенд:
    - JavaScript
    - Bootstrap
    - Vue

# 4. Требования к дизайну
Минимализм, лаконичность, акцент на контент. Категории и товары будут отображаться в табличном виде. В шапке будет логотип(разрабатывается в рамках проекта), ссылки на таблицы(Категории/Товары). Последний столбец в таблице будет состоять из кнопок действий(Добавление, редактирование, удаление). В нижней части будет надпись "Проект работает на OpenSource" и ссылки на GitHub и Документацию по API